<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>PageRank · Búsqueda de personas</title>
</head>
<body>
<div class="container">
    <h1>Búsqueda impulsada por PageRank</h1>
    <form th:action="@{/search}" method="get">
        <input type="text" name="q" placeholder="Busca por nombre o alias"
               th:value="${query}">
        <input type="number" name="k" min="1" th:value="${limit}">
        <button type="submit">Buscar</button>
    </form>

    <section>
        <p th:if="${#lists.isEmpty(results)}">
            Aún no hay resultados: la Etapa 2 proveerá entidades y cálculos reales.
        </p>

        <div th:each="result : ${results}" class="result">
            <h3>
                <span th:text="${result.name()}">Nombre</span>
                <small class="score" th:text="${#numbers.formatDecimal(result.score(), 1, 4)}">0.0</small>
            </h3>
            <p th:text="${result.explanation()}">Explicación breve.</p>
        </div>
    </section>

    <footer>
        Mostrando top <span th:text="${limit}">0</span> (K_TOP por defecto:
        <span th:text="${settings.kTop()}">10</span>).
        Ventana de recolección: <span th:text="${settings.collectionWindow()}">PT15M</span>,
        damping: <span th:text="${settings.damping()}">0.85</span>.
    </footer>
</div>
</body>
</html>
